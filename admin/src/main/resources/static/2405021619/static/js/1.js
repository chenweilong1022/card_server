webpackJsonp([1,42,43,44,45,46,47],{"0lFL":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{visible:!1,list:[],dataForm:{id:0,deviceId:"",online:"",deleteFlag:"",createTime:""},dataRule:{iccid:[{required:!0,message:"设备id不能为空",trigger:"blur"}],online:[{required:!0,message:"是否在线不能为空",trigger:"blur"}],deleteFlag:[{required:!0,message:"删除标志不能为空",trigger:"blur"}],createTime:[{required:!0,message:"创建时间不能为空",trigger:"blur"}]}}},methods:{init:function(t){var e=this;this.dataForm.deviceId=t,this.visible=!0,this.$nextTick(function(){e.dataForm.deviceId&&e.$http({url:e.$http.adornUrl("/ltt/cdcard/listByDevicesId"),method:"post",data:e.$http.adornData({deviceId:e.dataForm.deviceId})}).then(function(t){var a=t.data;a&&0===a.code&&(e.list=a.list)})})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/ltt/cddevices/changeCard"),method:"post",data:t.$http.adornData({id:t.dataForm.id||void 0,iccid:t.dataForm.iccid,boardIndexed:t.dataForm.boardIndexed,indexed:t.dataForm.indexed})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.msg)})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[t._l(t.list,function(e,i){return a("div",[a("div",{staticStyle:{margin:"0 auto"}},[a("el-row",[a("el-col",{attrs:{span:24,type:"flex",justify:"center",align:"middle"}},[a("div",{staticStyle:{"text-align":"center",color:"red"}},[t._v("卡区"+t._s(1*i+1))])]),t._v(" "),a("el-col",{attrs:{span:24,type:"flex",justify:"center",align:"middle"}},[a("i",{staticClass:"el-icon-caret-top",staticStyle:{"text-align":"center",color:"red",margin:"0 auto"}})])],1)],1),t._v(" "),a("el-row",t._l(e,function(e){return a("el-col",{attrs:{span:8,type:"flex",justify:"center",align:"middle"}},[e.phone?a("el-card",[a("div",[t._v(t._s(1*i+1)+"-"+t._s(e.indexed+1))]),t._v(" "),a("div",[t._v(t._s(e.phone?e.phone:"无卡"))]),t._v(" "),a("div",[t._v(t._s(e.iccid?e.iccid:"无卡"))])]):a("el-card",{staticStyle:{"background-color":"#ffd400"}},[a("div",[t._v(t._s(1*i+1)+"-"+t._s(e.indexed+1))]),t._v(" "),a("div",[t._v(t._s(e.phone?e.phone:"无卡"))]),t._v(" "),a("div",[t._v(t._s(e.iccid?e.iccid:"无卡"))])])],1)}))],1)}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("关闭")])],1)],2)},staticRenderFns:[]},r=a("46Yf")(i,n,!1,null,null,null);e.default=r.exports},"7mQ2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{visible:!1,dataForm:{id:0,iccid:"",online:"",deleteFlag:"",createTime:""},dataRule:{iccid:[{required:!0,message:"设备id不能为空",trigger:"blur"}],online:[{required:!0,message:"是否在线不能为空",trigger:"blur"}],deleteFlag:[{required:!0,message:"删除标志不能为空",trigger:"blur"}],createTime:[{required:!0,message:"创建时间不能为空",trigger:"blur"}]}}},methods:{init:function(t){var e=this;this.dataForm.id=t||0,this.visible=!0,this.$nextTick(function(){e.$refs.dataForm.resetFields(),e.dataForm.id&&e.$http({url:e.$http.adornUrl("/ltt/cddevices/info/"+e.dataForm.id),method:"get",params:e.$http.adornParams()}).then(function(t){var a=t.data;a&&0===a.code&&(e.dataForm.iccid=a.cdDevices.iccid,e.dataForm.online=a.cdDevices.online,e.dataForm.deleteFlag=a.cdDevices.deleteFlag,e.dataForm.createTime=a.cdDevices.createTime)})})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/ltt/cddevices/changeCard"),method:"post",data:t.$http.adornData({id:t.dataForm.id||void 0,iccid:t.dataForm.iccid,boardIndexed:t.dataForm.boardIndexed,indexed:t.dataForm.indexed})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.msg)})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:t.$t("设备id"),prop:"iccid"}},[a("el-input",{attrs:{placeholder:"设备id"},model:{value:t.dataForm.iccid,callback:function(e){t.$set(t.dataForm,"iccid",e)},expression:"dataForm.iccid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"板子区号",prop:"iccid"}},[a("el-input",{attrs:{placeholder:"板子区号"},model:{value:t.dataForm.boardIndexed,callback:function(e){t.$set(t.dataForm,"boardIndexed",e)},expression:"dataForm.boardIndexed"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"卡号",prop:"iccid"}},[a("el-input",{attrs:{placeholder:"卡号"},model:{value:t.dataForm.indexed,callback:function(e){t.$set(t.dataForm,"indexed",e)},expression:"dataForm.indexed"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},r=a("46Yf")(i,n,!1,null,null,null);e.default=r.exports},IqNs:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("ok75"),n=a("7mQ2"),r=a("lM9O"),o=a("M454"),s=a("sSid"),l=a("0lFL"),d={data:function(){return{online:0,getTimeType:null,sortIndex:null,workType:null,groupId:null,dataForm:{key:"",online:null,workType:null,iccid:null,phone:null,fq:null,packageVersion:null},options:[{value:0,label:"在线"},{value:1,label:"离线"}],workOptions:[{value:1,label:"闲置"},{value:2,label:"初始化"},{value:3,label:"接码"}],getTimeOptions:[{value:1,label:"有取码时间"},{value:2,label:"无取码时间"}],sortIndexOptions:[{value:1,label:"当前板排序"}],dataList:[],dataListGroup:[],pageIndex:1,pageSize:100,totalPage:0,dataListLoading:!1,dataListSelections:[],addOrUpdateVisible:!1,cddevicesChangeCardVisible:!1,cardListVisible:!1,cddevicesInitVisible:!1,cddevicesGroupChangeVisible:!1,cddevicesUpdateAppVisible:!1}},components:{AddOrUpdate:i.default,CddevicesChangeCard:n.default,CddevicesUpdateApp:r.default,CddevicesGroupChange:o.default,CddevicesInit:s.default,CardList:l.default},activated:function(){this.getDataList(),this.getGroupDataList()},methods:{getGroupDataList:function(){var t=this;this.$http({url:this.$http.adornUrl("/ltt/cdcardgroup/list"),method:"get",params:this.$http.adornParams({page:1,limit:100})}).then(function(e){var a=e.data;a&&0===a.code?t.dataListGroup=a.page.list:t.dataListGroup=[]})},updateBatchHandler:function(t,e){var a=this,i=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("修改状态"):this.$t("批量修改状态"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){a.$http({url:a.$http.adornUrl("/ltt/cddevices/updateBatch"),method:"post",data:{ids:i,workType:e}}).then(function(t){var e=t.data;e&&0===e.code?a.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){a.getDataList()}}):a.$message.error(e.msg)})})},releaseMobileAllHandler:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("释放"):this.$t("批量释放状态"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cdcardlock/releaseMobileAll"),method:"post",data:{ids:a,token:"545148dc498842ca8cea980b1a677b27"}}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},findNoTimeHandler:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        查找无时间"+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/findNoTime"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},rebootHandler:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("重启"):this.$t("批量重启"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/reboot"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},cddevicesGroupChangeHandle:function(t){var e=this;this.cddevicesGroupChangeVisible=!0,this.$nextTick(function(){var a=t?[t]:e.dataListSelections.map(function(t){return t.id});e.$refs.cddevicesGroupChange.init(a)})},initHandle:function(t){var e=this;this.cddevicesInitVisible=!0,this.$nextTick(function(){var a=t?[t]:e.dataListSelections.map(function(t){return t.id});e.$refs.cddevicesInit.init(a)})},cardListVisibleHandle:function(t){var e=this;this.cardListVisible=!0,this.$nextTick(function(){e.$refs.cardList.init(t)})},getCode:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("重置接码"):this.$t("批量重置接码"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/getCode"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},initHandle3:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("初始化"):this.$t("批量初始化"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/initCard3"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},withBlack:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("初始化"):this.$t("批量初始化"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/withBlack"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},phoneDeleteAllHandle3:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("初始化"):this.$t("批量初始化"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/phoneDeleteAll"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},phoneDeleteAllHandle32:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"初始化":"批量初始化")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/phoneDeleteAll2"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},getDataList:function(){var t=this;this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("/ltt/cddevices/list"),method:"get",params:this.$http.adornParams({page:this.pageIndex,limit:this.pageSize,online:this.online,groupId:this.groupId,workType:this.workType,iccid:this.dataForm.iccid,phone:this.dataForm.phone,packageVersion:this.dataForm.packageVersion,key:this.dataForm.key})}).then(function(e){var a=e.data;a&&0===a.code?(t.dataList=a.page.list,1===t.getTimeType?t.dataList=t.dataList.filter(function(t){return t.phoneGetTime}):2===t.getTimeType&&(t.dataList=t.dataList.filter(function(t){return!t.phoneGetTime})),1===t.sortIndex&&(t.dataList=t.dataList.sort(function(t,e){return(null==t.heartbeatRequest?1:t.heartbeatRequest.workFq)-(null==e.heartbeatRequest?1:e.heartbeatRequest.workFq)})),t.totalPage=a.page.totalCount):(t.dataList=[],t.totalPage=0),t.dataListLoading=!1})},sizeChangeHandle:function(t){this.pageSize=t,this.pageIndex=1,this.getDataList()},currentChangeHandle:function(t){this.pageIndex=t,this.getDataList()},selectionChangeHandle:function(t){this.dataListSelections=t},addOrUpdateHandle:function(t){var e=this;this.addOrUpdateVisible=!0,this.$nextTick(function(){e.$refs.addOrUpdate.init(t)})},cddevicesChangeCardHandle:function(t){var e=this;this.cddevicesChangeCardVisible=!0,this.$nextTick(function(){e.$refs.cddevicesChangeCard.init(t)})},cddevicesUpdateAppCardHandle:function(){var t=this;this.cddevicesUpdateAppVisible=!0,this.$nextTick(function(){var e=t.dataListSelections.map(function(t){return t.id});t.$refs.cddevicesUpdateApp.init(e)})},deleteHandle:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm(""+this.$t("确定")+this.$t("进行")+"\n        "+(t?this.$t("删除"):this.$t("批量删除"))+this.$t("操作")+"?",this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/delete"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},updateAppHandle:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"更新":"批量更新")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/ltt/cddevices/updateApp"),method:"post",data:e.$http.adornData(a,!1)}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},translateGroup:function(t){console.log(t),console.log(this.$t(t));return(t=this.$t(t)).includes("组")?this.$t(t.replace("组","-"+this.$t("组"))):t}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-config"},[a("el-form",{attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getDataList()}}},[a("el-form-item",[a("el-input",{attrs:{placeholder:t.$t("版本号"),clearable:""},model:{value:t.dataForm.packageVersion,callback:function(e){t.$set(t.dataForm,"packageVersion",e)},expression:"dataForm.packageVersion"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:t.$t("手机号"),clearable:""},model:{value:t.dataForm.phone,callback:function(e){t.$set(t.dataForm,"phone",e)},expression:"dataForm.phone"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:t.$t("设备编码"),clearable:""},model:{value:t.dataForm.iccid,callback:function(e){t.$set(t.dataForm,"iccid",e)},expression:"dataForm.iccid"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:t.$t("在线"),clearable:""},model:{value:t.online,callback:function(e){t.online=e},expression:"online"}},t._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:t.$t(e.label),value:e.value}})}))],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:t.$t("工作流程"),clearable:""},model:{value:t.workType,callback:function(e){t.workType=e},expression:"workType"}},t._l(t.workOptions,function(e){return a("el-option",{key:e.value,attrs:{label:t.$t(e.label),value:e.value}})}))],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:t.$t("分组"),clearable:""},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},t._l(t.dataListGroup,function(e){return a("el-option",{key:e.id,attrs:{label:t.translateGroup(e.groupName),value:e.id}})}))],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:t.$t("取码时间筛选"),clearable:""},model:{value:t.getTimeType,callback:function(e){t.getTimeType=e},expression:"getTimeType"}},t._l(t.getTimeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:t.$t(e.label),value:e.value}})}))],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:t.$t("码排序"),clearable:""},model:{value:t.sortIndex,callback:function(e){t.sortIndex=e},expression:"sortIndex"}},t._l(t.sortIndexOptions,function(e){return a("el-option",{key:e.value,attrs:{label:t.$t(e.label),value:e.value}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.getDataList()}}},[t._v(t._s(t.$t("查询")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.cddevicesUpdateAppCardHandle()}}},[t._v(t._s(t.$t("app更新")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.initHandle()}}},[t._v(t._s(t.$t("批量初始化")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.withBlack()}}},[t._v(t._s(t.$t("号码拉黑")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.getCode()}}},[t._v(t._s(t.$t("项目切换")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.rebootHandler()}}},[t._v(t._s(t.$t("批量重启")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.updateBatchHandler(null,1)}}},[t._v(t._s(t.$t("批量闲置")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.updateBatchHandler(null,3)}}},[t._v(t._s(t.$t("批量工作")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.releaseMobileAllHandler()}}},[t._v(t._s(t.$t("释放卡")))]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.findNoTimeHandler()}}},[t._v("查找无时间")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.cddevicesGroupChangeHandle()}}},[t._v(t._s(t.$t("分组")))])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,border:""},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{type:"selection","header-align":"center",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number","header-align":"center",align:"center",label:t.$t("编号")}}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceId","header-align":"center",align:"center",label:t.$t("设备id")}}),t._v(" "),a("el-table-column",{attrs:{prop:"packageVersion","header-align":"center",align:"center",label:t.$t("版本号")}}),t._v(" "),a("el-table-column",{attrs:{prop:"phoneGetTime","header-align":"center",align:"center",label:t.$t("取码时间")}}),t._v(" "),a("el-table-column",{attrs:{prop:"workFq","header-align":"center",align:"center",label:t.$t("当前板")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(null==e.row.heartbeatRequest?1:e.row.heartbeatRequest.workFq)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fq","header-align":"center",align:"center",label:t.$t("板子数")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(null==e.row.heartbeatRequest?1:e.row.heartbeatRequest.fq)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"initSuccessNumber","header-align":"center",align:"center",label:t.$t("初始化比例")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        ("+t._s(e.row.initSuccessNumber)+"/"+t._s(e.row.initTotalNumber)+")\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"onlineStr","header-align":"center",align:"center",label:t.$t("是否在线")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.$t(e.row.onlineStr))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"workTypeStr","header-align":"center",align:"center",label:t.$t("工作流程")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.$t(e.row.workTypeStr))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userId","header-align":"center",align:"center",label:t.$t("用户")}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectId","header-align":"center",align:"center",label:t.$t("项目id")}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone","header-align":"center",align:"center",label:t.$t("phone")}}),t._v(" "),a("el-table-column",{attrs:{prop:"iccid","header-align":"center",align:"center",label:"iccid"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"150",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.initHandle(e.row.id)}}},[t._v(t._s(t.$t("初始化")))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.rebootHandler(e.row.id)}}},[t._v(t._s(t.$t("重启")))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.updateBatchHandler(e.row.id,1)}}},[t._v(t._s(t.$t("闲置")))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.updateBatchHandler(e.row.id,3)}}},[t._v(t._s(t.$t("工作")))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.cddevicesChangeCardHandle(e.row.id)}}},[t._v(t._s(t.$t("切换卡")))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.cardListVisibleHandle(e.row.deviceId)}}},[t._v(t._s(t.$t("卡详情")))])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[10,20,50,100],"page-size":t.pageSize,total:t.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}}),t._v(" "),t.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:t.getDataList}}):t._e(),t._v(" "),t.cddevicesChangeCardVisible?a("cddevices-change-card",{ref:"cddevicesChangeCard",on:{refreshDataList:t.getDataList}}):t._e(),t._v(" "),t.cddevicesUpdateAppVisible?a("cddevices-update-app",{ref:"cddevicesUpdateApp",on:{refreshDataList:t.getDataList}}):t._e(),t._v(" "),t.cddevicesInitVisible?a("cddevices-init",{ref:"cddevicesInit",on:{refreshDataList:t.getDataList}}):t._e(),t._v(" "),t.cddevicesGroupChangeVisible?a("cddevices-group-change",{ref:"cddevicesGroupChange",on:{refreshDataList:t.getDataList}}):t._e(),t._v(" "),t.cardListVisible?a("card-list",{ref:"cardList",on:{refreshDataList:t.getDataList}}):t._e()],1)},staticRenderFns:[]},u=a("46Yf")(d,c,!1,null,null,null);e.default=u.exports},M454:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{groupId:null,visible:!1,dataList:[],dataForm:{ids:null},dataRule:{iccid:[{required:!0,message:"设备id不能为空",trigger:"blur"}],online:[{required:!0,message:"是否在线不能为空",trigger:"blur"}],deleteFlag:[{required:!0,message:"删除标志不能为空",trigger:"blur"}],createTime:[{required:!0,message:"创建时间不能为空",trigger:"blur"}]}}},methods:{getDataList:function(){var t=this;this.$http({url:this.$http.adornUrl("/ltt/cdcardgroup/list"),method:"get",params:this.$http.adornParams({page:1,limit:100})}).then(function(e){var a=e.data;a&&0===a.code?t.dataList=a.page.list:t.dataList=[]})},init:function(t){this.dataForm.ids=t||0,this.visible=!0,this.getDataList()},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/ltt/cddevices/changeGroup"),method:"post",data:t.$http.adornData({ids:t.dataForm.ids||void 0,groupId:t.groupId})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.msg)})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"分组名称"}},[a("el-select",{attrs:{placeholder:"分组名称",clearable:""},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},t._l(t.dataList,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}})}))],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},r=a("46Yf")(i,n,!1,null,null,null);e.default=r.exports},lM9O:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{visible:!1,dataForm:{ids:null,iccid:"",online:"",deleteFlag:"",createTime:""},dataRule:{iccid:[{required:!0,message:"设备id不能为空",trigger:"blur"}],online:[{required:!0,message:"是否在线不能为空",trigger:"blur"}],deleteFlag:[{required:!0,message:"删除标志不能为空",trigger:"blur"}],createTime:[{required:!0,message:"创建时间不能为空",trigger:"blur"}]}}},methods:{init:function(t){var e=this;this.dataForm.ids=t||[],this.visible=!0,this.$nextTick(function(){e.$refs.dataForm.resetFields(),e.dataForm.ids&&e.$http({url:e.$http.adornUrl("/ltt/cddevices/info/"+e.dataForm.id),method:"get",params:e.$http.adornParams()}).then(function(t){var a=t.data;a&&0===a.code&&(e.dataForm.iccid=a.cdDevices.iccid,e.dataForm.online=a.cdDevices.online,e.dataForm.deleteFlag=a.cdDevices.deleteFlag,e.dataForm.createTime=a.cdDevices.createTime)})})},dataFormSubmit:function(t){var e=this;this.$refs.dataForm.validate(function(a){a&&e.$http({url:e.$http.adornUrl("/ltt/cddevices/updateApp"),method:"post",data:e.$http.adornData({ids:e.dataForm.ids||void 0,httpUrl:e.dataForm.httpUrl,updateType:t})}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(a.msg)})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:(t.dataForm.id,"更新app"),"close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"apk下载路径",prop:"httpUrl"}},[a("el-input",{attrs:{placeholder:"apk下载路径"},model:{value:t.dataForm.httpUrl,callback:function(e){t.$set(t.dataForm,"httpUrl",e)},expression:"dataForm.httpUrl"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit(1)}}},[t._v("更新选择设备")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit(2)}}},[t._v("更新全部设备")])],1)],1)},staticRenderFns:[]},r=a("46Yf")(i,n,!1,null,null,null);e.default=r.exports},ok75:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{visible:!1,dataForm:{id:0,iccid:"",online:"",workType:"",deleteFlag:"",createTime:"",packageVersion:"",number:""},dataRule:{iccid:[{required:!0,message:"不能为空",trigger:"blur"}],online:[{required:!0,message:"不能为空",trigger:"blur"}],workType:[{required:!0,message:"不能为空",trigger:"blur"}],deleteFlag:[{required:!0,message:"不能为空",trigger:"blur"}],createTime:[{required:!0,message:"不能为空",trigger:"blur"}],packageVersion:[{required:!0,message:"不能为空",trigger:"blur"}],number:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{init:function(t){var e=this;this.dataForm.id=t||0,this.visible=!0,this.$nextTick(function(){e.$refs.dataForm.resetFields(),e.dataForm.id&&e.$http({url:e.$http.adornUrl("/ltt/cddevices/info/"+e.dataForm.id),method:"get",params:e.$http.adornParams()}).then(function(t){var a=t.data;a&&0===a.code&&(e.dataForm.iccid=a.cddevices.iccid,e.dataForm.online=a.cddevices.online,e.dataForm.workType=a.cddevices.workType,e.dataForm.deleteFlag=a.cddevices.deleteFlag,e.dataForm.createTime=a.cddevices.createTime,e.dataForm.packageVersion=a.cddevices.packageVersion,e.dataForm.number=a.cddevices.number)})})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/ltt/cddevices/"+(t.dataForm.id?"update":"save")),method:"post",data:t.$http.adornData({id:t.dataForm.id||void 0,iccid:t.dataForm.iccid,online:t.dataForm.online,workType:t.dataForm.workType,deleteFlag:t.dataForm.deleteFlag,createTime:t.dataForm.createTime,packageVersion:t.dataForm.packageVersion,number:t.dataForm.number})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.msg)})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"",prop:"iccid"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.iccid,callback:function(e){t.$set(t.dataForm,"iccid",e)},expression:"dataForm.iccid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"online"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.online,callback:function(e){t.$set(t.dataForm,"online",e)},expression:"dataForm.online"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"workType"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.workType,callback:function(e){t.$set(t.dataForm,"workType",e)},expression:"dataForm.workType"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"deleteFlag"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.deleteFlag,callback:function(e){t.$set(t.dataForm,"deleteFlag",e)},expression:"dataForm.deleteFlag"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"createTime"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.createTime,callback:function(e){t.$set(t.dataForm,"createTime",e)},expression:"dataForm.createTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"packageVersion"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.packageVersion,callback:function(e){t.$set(t.dataForm,"packageVersion",e)},expression:"dataForm.packageVersion"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"number"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.dataForm.number,callback:function(e){t.$set(t.dataForm,"number",e)},expression:"dataForm.number"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},r=a("46Yf")(i,n,!1,null,null,null);e.default=r.exports},sSid:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{type:"2",visible:!1,dataForm:{ids:null,type:"2",ussd:""},bh:["*833#","*102*9#"],dataRule:{iccid:[{required:!0,message:"设备id不能为空",trigger:"blur"}],online:[{required:!0,message:"是否在线不能为空",trigger:"blur"}],deleteFlag:[{required:!0,message:"删除标志不能为空",trigger:"blur"}],createTime:[{required:!0,message:"创建时间不能为空",trigger:"blur"}]}}},methods:{init:function(t){this.dataForm.ids=t||[],this.visible=!0},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/ltt/cddevices/initCard"),method:"post",data:t.$http.adornData({ids:t.dataForm.ids||void 0,type:t.type,ussd:t.dataForm.ussd})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.msg)})})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:(t.dataForm.id,"更新app"),"close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"初始化类型",prop:"type"}},[a("el-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("从头开始")]),t._v(" "),a("el-radio",{attrs:{label:"2",size:"large"}},[t._v("读取历史")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"ussd",prop:"ussd"}},[a("el-select",{attrs:{placeholder:t.$t("工作流程"),clearable:""},model:{value:t.dataForm.ussd,callback:function(e){t.$set(t.dataForm,"ussd",e)},expression:"dataForm.ussd"}},t._l(t.bh,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},r=a("46Yf")(i,n,!1,null,null,null);e.default=r.exports}});